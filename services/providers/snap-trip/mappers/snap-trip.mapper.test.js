const mapper = require("./snap-trip.mapper");

test("success output structure: ", async () => {
  const mockResult = {
    solutions: [
      {
        id: "eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiZGlyIn0..jZJQeDWhWTOWn3pR.7ZR7FaQGPOoi7hTR8e8yfdV1gB-2cXFw5a67s7smlcB3gr1Mj_RABXYbH9vVHHbYKfXZbfc-kfnDTGLwNSKZqI97t2DsdCDTBf4knI6P1FByMWJPwdGVwa8e52S1bw95Fe15EH918mYZvwKvoMak871IB5BzGWhp-O5W2fYyPOEpQ0Xo4GxvTyrJg4JETVOJkQ1eadnHWaUThD7J2PI_y9wMltUOKniQKJL6lVvEehcgiaVXqc7ydxhR_BTjRYvEkiDBqu5YmcoHChgjmOGyhrFIUIsg8pGK2_zEZgsT9fQTvPesGUnWiIVyehLkAirIu9b1J1qUwqrkMRULo5nWv7-xy4YX4V-ZDE8roruVhzBV621kWtJzdE6I_YFjMMCPSukbvvUjj7DfBNoxMzZsm2qtwl0dlbx2tGy1mjgpT9FXm4IeNQUyhLnD5QXGTA1M7V7PKVWrl47SyDD6W0FiPQx_tPL2u5eJGhECYLEiaxJT0ig6903dSq3-Fr0wijLKI-8HPAsZJ28t_dK-J4oEOw85CdEgOJZm0CfhyaITb4a1L6OjBp4-ScHHqGBgp1xueVFXFD0OO5kexM9b5qSAnAKvWb-M17v47ovrUKYDkrTCewbmGwQVwhvi6TVYCJPp0Wewf_kBNyEsBBMP4iTdVnoRl7cDCXSDe7rC2Kz5v7nqinMzXeIsYqgbf05S7ouogSPTijKwSllCedn-0-6eggUfosOytnP7vFTruO6YjmoBv-xGII9CxRXuCvK_8YZ20VNsEpFniRvx7Ip6v_pGnCaZpVGfo4BL9LyZoG2zUoJbRWiCFPTdZHm-Tmng3Hpxi0yp2M_aC5k5Rp_ecZcHdvymTrjP69w.kQoA5eyVAZ6t9syOZCSMsA",
        originCity: "اصفهان",
        destinationCity: "تهران",
        originTerminal: [Object],
        destinationTerminal: [Object],
        busDescription: "(MAN (V.I.P",
        capacity: 0,
        price: 2560000,
        finalPrice: 2560000,
        discount: "0",
        departureDate: "2024-08-20",
        departureTime: "10:15",
        company: [Object],
        finalDestination: "تهران پایانه غرب (آزادی)",
        provider: "21a2690afcbaae12131d133c577e52fd",
        serviceCommission: 0,
        multiStop: true,
        busType: "VIP",
        serviceId: "",
      },
      {
        id: "eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiZGlyIn0..zt8AkI35R9XOEfXn.2H5YhBK_o7qfb-n8cKRLEoRtyKjzKOnGEsCKN_NqEzotYIHM_TX_oakk5pohsdhNF4Bd6Tp94NXCto1WbO6ePXMI7Hotl_4J0Kh1XdAcZiyWuPcdY47VtcrQa_9BC_GPWBneJ1pQVVU0haZllqRMVzlcF7w_ECKyvop0bo0PqzT5WNIOCPhupKzhLBZQN2ctnmXc6hMLRpIyBqd4UH7i3i2KgS6tYoaZNHqQEAfcYSDaFEpQWd_GSVGDZMqP3jOoGIhqZhMDKkXqpywmM86e2mHdfej056m95uOpY5ZCie96zsKpGaTFeHeRLxHxh9JCE3s8Qmjh2M2reaJh8umeBv0KxiTu7ofT3I_jFRtlysRly9J8SlJwfSXOXUVHv_DQaJDgGuKlB1edwJN8Va3yP-M9bQS0LjDs_T49URoSm4qPOgE-fzQTfW-xyfVyRAcxhhjhThDAu9UQX6ulUHYPVij_YSoKUukW31J-GXV7g7VOV6ovIAz-jpG5pQppDJzdW79-tAK6a_7aAuXn35d3VUmtqsf1VNhn1ob55CnCNJob0dEQ-yj4TjkYnHwmb7hQhMpE7cCX3XLCwHF-3EAj4Fny35j4RPBgfhJD3bouM85KLVveR0QITmcWnEb4uX2DQuxwXgHP0_q84FckzkZKMmupJd3d-GSXGgv46ttlyQRTxURSp_kdH_OLPBzhJdDXPl9H49haANj0rBAnIB30Vaoumk3svJtlFAaovRzZT4NfWF-m6EIJ-QGVcsEKPICQdD080sGlaBfSzfXuRprlAlRVv4FQ9kPjkGwufl-Y8BbPDUrKsc3mTHOWAQLroPvouA4dRch_SFrIlvbSD3Tzcd4MNvw0R2QZwRChnxJgrPVrfWb5XOm3rgeiWfwfrV4.IfUheS4Aw0LWN_KpOxutiA",
        originCity: "اصفهان",
        destinationCity: "تهران",
        originTerminal: [Object],
        destinationTerminal: [Object],
        busDescription: "اتوبوس درسا مانیتوردار",
        capacity: 0,
        price: 2560000,
        finalPrice: 2560000,
        discount: "0",
        departureDate: "2024-08-20",
        departureTime: "16:00",
        company: [Object],
        finalDestination: "",
        provider: "78147fba5fa4c6895022ca2f073f89b3",
        serviceCommission: 0,
        multiStop: false,
        busType: "Normal",
        serviceId: "",
      },
      {
        id: "eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiZGlyIn0..SFd-BRDCr7lTNq_n.pmUXAeTnaQMv3O0V5AY7IvE53ZcxzGoe62Dg2rSTH7G0SHGEVXlWibDBnMKnzEtb6H_BIgM8M5TliQadSjHkLPST_nEvQJcgm_T7NHIwCnVMJCzSeWYPgmYyfcUUebEV3cLPQIh3aVxSVWEKDkZzpET1TEr9DxADOxjDwxE5FLmO9S-1byEtv2iNrigEFPorqTF-RWm2xPHBpkOhgoEIuanmURQ2rSH9KtgYTByxqRXPh8yxWGATo8Dv-0QB1nP0VEFxQDNXMX0LuYK4_14ILhvZ76K-n89d0l5lVoyHWJe9Cmg6fnySRxbW2_a8LQ_2HJHYWw39P658U_USv8BTelhno1JedCZ8J8pKO-NhRLl3DJbE6uzusWtLVoBSbwW0mfJE4WavyMs9gjhTB8enr0YDzW3p58zb6X0Em7_x7Xup8CIyzJoMEMoowQVN5ayVeJFGS0I7ltkrzCx2YGehYcHOyGR6GJHw9og6f1zTiY5wbd442Mv7vSeFh874P_rN0Geg7Utn3mmnbV59CX1hNXr5BzzBtphPAK44B86J8umM0SeDsgwyeTEUGK3hXpGjEaTbLVV9Zhj_ZPP41wlYiDqc8gBxNP7jIW_3Brnr-gAIuCE0-SZKupSPKhabG0-Pq5wrPt4q6vNsl1_Z3B6mIw8PXl6hqCUXYgqOgYmn_f1Tnln0nT8sJNtxCPP-RZaaIDrdVm6yBaFijTD4zcHNqnDpx0XnGuHSPFGH9KOIo32ZhF-QyeLYwldqvMyFbrqdmznNf1hZgKcQQl6ko-RuAZm6tae77iWbWNpgKKoOeSyBEW7g6UM40gjwwNlZnsD-ewTDdu_h.Dpx06SALqbSk92wHl9H_Lw",
        originCity: "اصفهان",
        destinationCity: "تهران",
        originTerminal: [Object],
        destinationTerminal: [Object],
        busDescription: "درسا 25 نفره VIP",
        capacity: 0,
        price: 2560000,
        finalPrice: 2560000,
        discount: "0",
        departureDate: "2024-08-20",
        departureTime: "16:30",
        company: [Object],
        finalDestination: "تهران بيهقي",
        provider: "52769254f3c2739caa691e21431f027",
        serviceCommission: 0,
        multiStop: true,
        busType: "VIP",
        serviceId: "",
      },
      {
        id: "eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiZGlyIn0..LQhSaesBqTO-s2lh.u5NEyde1jTGTlmLss-P4TpQEw-UyNFhp20kBqpbr-FlYk4hwFY5qWFqyMZh3LfAOpD9FonrSOWKJOSNLQrQI6u5gpLV7T47W2-z7tQWW1M4G0M2P7nsWCAAaXSiTkXIOnfpsCCAJYmbzAT3-t8as0BzzZSoZ4ES9bEuKlUhgVl_Nf9ORlAnggP2S4ZbHfaEeTV5D8bPGVpdLpZpBgzNG4GJJqQxwZ1zPckXrvhzMa6pJuj9eBBymvX0Yiz7n8E80SvBAc-cGgkUMT-XmCX6C6zepdog1lX3f5TwaCLYiyfWIE0iY7YI7N8plL2Nt8c76rYKuQYJtFbMBL5HiISh9KWsFrWsH0Yt3DLd473Jg6EI_tXhFzuuVbyqVqnrg4X-phfvD0WAXMTe_IR99JwdgLikuvVRmuHoTVcRo91pfcFKihdh9eMkb4N7OjJh8MC7r7JY3yhf1l_GIduFlIsfxaTEEvjCPgZAozVD5v0tAPdJybUC8E-otx-z3IOPqARZLFY7JBdHHUhJvLGJ8YjnVIIRXUdtKp_gxLHt1m2isx4BzWfImt4dT95zicgmMpcc8bt50e491kuBWL8MFtjxO5Lf86_u4u1Pky7SMG7FUgLqNpNkwtX2oYzndLZk8-AJOZNhFCYTY9UwYiQJmjjO5TmYfT7XlmdP1ykjRr5xidUSc2GZXFD0yr5L41Z7Tb4IiYSB6scYcWnhVRjRXx7UWo2sksjaZEFzJq5E8ver4EcsSkOJ6zSiiCbSY5rdVcl_ta4xvWmqLYtHs9AZ2el1LvGNmEIyzVz-njw1pAvSYs416qW4H5Zpj5iikOLdQR8o2r_9Cn9Hi7AcyA5Qm.8LeuGH_G9ls4mAaeWMfykg",
        originCity: "اصفهان",
        destinationCity: "تهران",
        originTerminal: [Object],
        destinationTerminal: [Object],
        busDescription: "اتوبوس وی ای پی ",
        capacity: 0,
        price: 2560000,
        finalPrice: 2560000,
        discount: "0",
        departureDate: "2024-08-20",
        departureTime: "22:00",
        company: [Object],
        finalDestination: "",
        provider: "78147fba5fa4c6895022ca2f073f89b3",
        serviceCommission: 0,
        multiStop: false,
        busType: "VIP",
        serviceId: "",
      },
      {
        id: "eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiZGlyIn0..CfDPoIskq7F2rAIE.47JRK5qNOBUII1sdzRy82d6icqMNHeR77J7L-Po4KUnvJZcvJlRPkPF0mkoWMLhQQ1j52Q0B2rx1F4lzxypNMryfZYBc9lsKJvkIcPu9a4SAFeW3pH_4HblMa1dXCVWjWtELBlsGo6It9ODB_QOfFmdZBkzqhcVkpclnbO_2TRXBSyhZKqlMf5ndPFtDLlJaiTSFAIlieQ0GfT6orxIYkf3qtm3hV4i_PVT1uM7uGev-imcj0BMfn1xJVk0FoVLvVuFuceVp05ua_yW_vjlICKJwbYsbVxAidY1WSL8vRVJbtZopM17a-EK7SPMe8MdrQ14QATKYIkwYL6mzY1oxNYyrLPDFGTHRn9V6EDsP9XjcqN23ln6mAEWl-uRgB-z9hdOYHeTsyzynQh-cX4zmPCvsU3F4bqaSYBvPY1SFHcefqXB-w6OF-5w-rUR-zktcbAJssDfKHjtgFCrXy_v0P9NxiVMe0NEk9L26Ui9-zAFaWq8IqbHvCAjGNiUgDEmIPdx-nzVaT1jJjHZKm5m9jpronIjwtPe14FycloMnX8GvxXqDPemXDPFDtBmhKXlE-lJC-8TGpqcw9gqC5whDJI6FwdTg8mlETGXBvCjAGUQB1CCO-PIHvdiffzFzXKXiqkaPHRNSryL1LL1KfCAgNYhVc_4HOPmd6hr-yTup3inuG4jLgfC_vxS9bKW_tLktt3-4_SjUQLwS0wuxp3Q8qJHYdNOfkCB9tf1LbUD_r0qQBLMU0AdJ4Ht4ojr66RLJuaF8Uo7BWriK4Zg8StxtYu0RF-5Pf3HpPUIBSsUbAjszdmiCUgQIn80rUm_-rUCivLEjfWJGd5ZqMCw._W6gSbf_gYpOJ-SEN64AOQ",
        originCity: "اصفهان",
        destinationCity: "تهران",
        originTerminal: [Object],
        destinationTerminal: [Object],
        busDescription: "اتوبوس وی ای پی ",
        capacity: 2,
        price: 2560000,
        finalPrice: 2560000,
        discount: "0",
        departureDate: "2024-08-20",
        departureTime: "22:40",
        company: [Object],
        finalDestination: "",
        provider: "78147fba5fa4c6895022ca2f073f89b3",
        serviceCommission: 0,
        multiStop: false,
        busType: "VIP",
        serviceId: "",
      },
      {
        id: "eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiZGlyIn0..1e1rXCkOuqjIUT8W.cyTn9tUATJWthTAhxUJ3yK05WJTcOC-WoSZjP5ICEFyw0BM0EcfyM_R-XtPouAMKfLpt3CEYvinE45MLIMs8Orff0ri5EJ3m8TGw889AsnxkzC9JlXGrfq8H1M38g-nOFXHewJ3P6WLQmjJddYqxilfgBpaHbpbUkb4EjOgSxSHAGIhwL2z-qxHCFYFrlqvQtVCz2Cstz4q5OPRjtlzgxG8fcnAUdRBE4Gw0lVcK4erXs93NzEwTwN_mctd6Fs4NDai-HAGF__cmi63lYWh9qhdt6kjvLvcpqLwrwmdetjDSBEcX2CTERTJxdPmKksKMsubRjzy5oqupjh4qwQGZJv31R9jJ0--klbeOywJeJkmJC5fsvzKz6G9t2MlDDTHFWM9j_3x3CUUWP49enfsS1BhWnSMvuvfWvmq6HU0KpwIDcID3qHHyx-oQSgxHlHo9ko4jyD-nX-9wmLfGbyiPNb9C-vZ1OXXXUpjt1bpXzfhFUXmmHz__NHfk0iNiOhoGsjfjPwo-K2T5W4Dt69Fo4UBPjbfT9p2FZ9CGLs2ZSka8Ds834EgWvdR11ijuGsarGjK_Uzdntbu0LQIGp7tbCQGadjOyAFwzbEH8oAI75tcYbwfJSFIQRC98jy1a1YaQ3ZBs8k8G1rSXQwkpPPtiPqk2clPVlpd6X-v0LxGlPz4f7vyIB2eTHlN-FzvIrDtHe8dIXeUCnvPFMUBaMz3W7ms2S1fEE1U0ws-BlAH4x6tJHCDQRKbLDiMmhTQTkS2ZkFwsIN3YxiKbSL-pyrODZkmfhs2UFE-4n9lYuHrtGzCralTY0dApxHuzTtEE9Brp.tnHFD6lpuiDIbCroZndkCw",
        originCity: "اصفهان",
        destinationCity: "تهران",
        originTerminal: [Object],
        destinationTerminal: [Object],
        busDescription: "مان 26 نفره VIP",
        capacity: 1,
        price: 2560000,
        finalPrice: 2560000,
        discount: "0",
        departureDate: "2024-08-20",
        departureTime: "23:59",
        company: [Object],
        finalDestination: "تهران جنوب",
        provider: "52769254f3c2739caa691e21431f027",
        serviceCommission: 0,
        multiStop: true,
        busType: "VIP",
        serviceId: "",
      },
    ],
    sessionID:
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MjQxMzQ4Mzh9.ZA9dviqjz8xmGnsWL1SQYSfOF_KPuHv3gDMAjm883PU",
    companies: [
      {
        name: "همسفر چابكسواران اصفهان پايانه کاوه",
        logo: "_unknown.png",
        id: "",
      },
      {
        name: "گیتی پیما اصفهان پایانه کاوه",
        logo: "_unknown.png",
        id: "476",
      },
      { name: "رويال سفر", logo: "_unknown.png", id: "1044" },
      {
        name: "تک سفر اصفهان پایانه کاوه",
        logo: "_unknown.png",
        id: "1050",
      },
    ],
    searchingTime: "2024-08-20T09:35:38.0845",
    terminals: {
      originTerminal: [[Object], [Object], [Object]],
      destinationTerminal: [[Object], [Object], [Object], [Object], [Object]],
    },
    cities: { originCity: "اصفهان", destinationCity: "تهران" },
  };

  const data = mapper({ ...mockResult, date: "2024-07-30" });

  if (data.success) {
    expect(data).toMatchObject({ success: true });
    expect(data.data.length).toBe(2);
  } else {
    expect(data).toEqual({ success: false, data: [] });
  }
}, 10000);
